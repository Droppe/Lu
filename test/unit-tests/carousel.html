<div id="carousel" data-lu="Carousel">

  <ul class="items">
    <li class="lu-state-selected" data-lu="Container">1</li>
    <li>2</li>
    <li>3</li>
    <li>4</li>
    <li>5</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
    <li>10</li>
    <li>11</li>
    <li>12</li>
    <li>13</li>
    <li>14</li>
    <li>15</li>
    <li>16</li>
    <li>17</li>
    <li>18</li>
    <li>19</li>
    <li>20</li>
    <li>21</li>
  </ul>

</div>

<script>

function run(){
  var Carousel =  $( '#carousel' ).lu( 'getControl', 'Carousel' );

  module( 'API', {} );

//play
//pause
//hasNext
//hasPrevoius
//next
//previous

  test( 'Play', function(){
    expect( 1 );
    Carousel.pause();
    Carousel.on( 'stated', function( event, Carousel ){
      if( Carousel.hasState( 'playing' ) ){
        ok( true, 'The Carousel is playing. The \'playing\' state was successfully set.' );
      }
    } );
    if( !Carousel.hasState( 'playing' ) ){
      Carousel.play();
    }
  } );

  test( 'Pause', function(){
    expect( 1 );
    Carousel.play();
    Carousel.on( 'stated', function( event, Carousel ){
      if( Carousel.hasState( 'paused' ) ){
        ok( true, 'The Carousel is paused. The \'pause\' state was successfully set.' );
      }
    } );
    if( !Carousel.hasState( 'paused' ) ){
      Carousel.pause();
    }
  } );

  test( 'hasNext', function(){
    expect( 1 );
    ok( Carousel.hasNext(), 'The Carousel has a next item.' );
  } );

  test( 'hasPrevoius', function(){
    expect( 1 );
    ok( Carousel.hasNext(), 'The Carousel has a previous item.' );
  } );

  test( 'Next', function(){
    expect( 1 );
    Carousel.last();
    Carousel.next();
    ok( Carousel.index() === 0, 'The Carousel has proceeded from the last to the first item when calling next.' );
  } );

  test( 'Previous', function(){
    expect( 1 );
    Carousel.first();
    Carousel.next();
    console.log( Carousel.size(), Carousel.index() );
    ok( Carousel.index() === Carousel.size() -1, 'The Carousel has proceeded from the last to the first item when calling next.' );
  } );

}

// 	test('Pause', function() {
// 		expect(3);

// 		var playing = true;
// 		function onPaused() {
// 			playing = false;
// 		}

// 		this.carousel.on('paused', onPaused);
// 		this.carousel.pause();

// 		ok(!playing, 'Carousel is paused - "paused" event triggered');
// 		ok(this.$carousel.hasClass('lu-paused'), '"lu-disabled" added to carousel DOM');

// 		playing = true;
// 		this.carousel.pause();
// 		ok(playing, 'Secondary call to "pause" does not trigger "paused" event');
// 	});

// 	test('Play', function() {
// 		expect(3);

// 		var playing;
// 		function onPlaying() {
// 			playing = true;
// 		}

// 		this.carousel.on('playing', onPlaying);
// 		this.carousel.play();

// 		ok(playing, 'Carousel is playing - "playing" event triggered.');
// 		ok(!this.$carousel.hasClass('lu-paused'), '"lu-disabled" class removed from carouself DOM');

// 		playing = false;
// 		this.carousel.play();
// 		ok(!playing, 'Secondary call to "play" does not trigger "playing" event');
// 	});

// 	module('Basic API', {
// 		setup: function() {
// 			setup.apply(this);
// 			this.$list = this.$carousel.find('ol');
// 			this.$first = this.$list.find('li:first-child');
// 			this.$second = this.$list.find('li:nth-child(2)');
// 			this.$last = this.$list.find('li:last-child');
// 		}
// 	});

// 	test('Select', function() {
// 		expect(5);

// 		this.carousel.pause();

// 		this.carousel.select(0);

// 		equal(this.carousel.index, 0, "First item is selected");
// 		ok(this.$first.hasClass('lu-selected'), '"lu-selected" class added to the first item');

// 		this.carousel.select(1);

// 		equal(this.carousel.index, 1, "Second item is selected");
// 		ok(!this.$first.hasClass('lu-selected'), '"lu-selected" class removed from the first item');
// 		ok(this.$second.hasClass('lu-selected'), '"lu-selected" class added to the second item');
// 	});

// 	test('Next', function() {
// 		expect(5);

// 		// Select the first item
// 		this.carousel.select(0);

// 		// Select the second item
// 		this.carousel.next();

// 		equal(this.carousel.index, 1, "Second item is selected");
// 		ok(!this.$first.hasClass('lu-selected'), '"lu-selected" class removed from the first item');
// 		ok(this.$second.hasClass('lu-selected'), '"lu-selected" class added to the second item');

// 		// Select the last item
// 		this.carousel.select(this.$last.index());

// 		// Select the next item, which would be the first item
// 		this.carousel.next();

// 		equal(this.carousel.index, 0, "First item is selected, after 'next' on last item");
// 		ok(this.$first.hasClass('lu-selected'), '"lu-selected" class added to the first item');
// 	});

// 	test('Previous', function() {
// 		expect(6);

// 		// Select the second item
// 		this.carousel.select(1);

// 		// Select the first item
// 		this.carousel.previous();

// 		equal(this.carousel.index, 0, "Second item is selected");
// 		ok(this.$first.hasClass('lu-selected'), '"lu-selected" class added to the first item');
// 		ok(!this.$second.hasClass('lu-selected'), '"lu-selected" class removed from the second item');

// 		// Select the previous item, which is the last item
// 		this.carousel.previous();

// 		equal(this.carousel.index, this.$last.index(), "Second item is selected");
// 		ok(this.$last.hasClass('lu-selected'), '"lu-selected" class added to the last item');
// 		ok(!this.$first.hasClass('lu-selected'), '"lu-selected" class removed from the first item');
// 	});
	
// 	module('Auto-playing carousel inside a lu-container', {
// 		setup: function() {
// 			this.$carouselContainer = $('#carousel-container');
// 			this.$carousel = $('#carousel-test-2');
// 			this.$list = this.$carousel.find('ol');

// 			this.carouselContainer = this.$carouselContainer.lu('getControl');
// 			this.carousel = this.$carousel.lu('getControl');
// 		}
// 	});

// 	test('Hiding the container', function() {
// 		expect(2);

// 		this.carouselContainer.hide();

// 		ok(!this.$carousel.hasClass('lu-playing'), '"lu-playing" class does not exist in carousel');
// 		ok(this.$carousel.hasClass('lu-paused'), '"lu-paused" class exists in carousel');
// 	});

// 	test('Showing the container', function() {
// 		expect(2);

// 		this.carouselContainer.hide();
// 		this.carouselContainer.show();

// 		ok(!this.$carousel.hasClass('lu-paused'), '"lu-paused" class does not exist in carousel');
// 		ok(this.$carousel.hasClass('lu-playing'), '"lu-playing" class exists in carousel');
// 	});

// 	// TODO: lots more

// 	/*
// 	// TODO: Test autoplaying functionality
// 	test('DOM Manipulation on Playing/Paused', function() {
// 		expect(1);

// 		var $list = this.$carousel.find('ol'),
// 			listLen = $list.find('li').length,
// 			$item,
// 			itemIndex,
// 			// Get the current selected item
// 			$selected = $list.find('li.lu-selected');
// 			selectedIndex = selected.index();

// 		this.carousel.play();
// 		var interval = setInterval(function() {
// 			$item = $list.find('li.lu-selected');
// 			itemIndex = $item.index();

// 			if (itemIndex)
// 			if (itemIndex = selectedIndex+1)

// 		}, 4000);

// 		ok(true, 'yes');
// 	});
// 	*/
// }

</script>
<!doctype html>

<!--[if lt IE 7 ]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]> <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]> <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Facets</title>

  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/> -->

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Feature Detection -->
  <script src="/scripts/libraries/modernizr-2.0.6.js" type="text/javascript" charset="utf-8"></script>

  <!-- Application Styles -->
  <link rel="stylesheet" href="styles/applications/RoastBeef.css" type="text/css" media="screen" title="no title" charset="utf-8">

  <style type="text/css" media="screen">
    .selected { font-weight: bold; }
  </style>

  <script type="text/javascript" charset="utf-8">
    ENV_CONFIG = {
      debug: true
    }
  </script>

  <!-- Bootstrap:Util -->
  <script src="/scripts/libraries/underscore.js" type="text/javascript" charset="utf-8"></script>
  <script src="/scripts/libraries/helpers.js" type="text/javascript" charset="utf-8"></script>

  <!-- XDomain Proxies -->
  <script src="/scripts/libraries/porthole.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">

    var getResource = false,
      head = document.getElementsByTagName( 'head' )[0],
      proxieIds = [ 'localhost:3000' ],
      proxies = [];

    _.each( proxieIds, function( item, index ){
      var proxy = item,
        iframe;

        iframe = document.createElement( 'iframe' );

        iframe.src = '//' + item + '/cdn-proxy.html';
        iframe.id = item + '-proxy';
        iframe.name = item + '-proxy';
        iframe.onload = function() {
          proxies[index] = new Porthole.WindowProxy( '//' + item, item + '-proxy' );
          proxies[index].addEventListener( li.proxyEventHandler );
          if( !getResource ) {
            getResource = function( key, url ) {
              var proxy = proxies.shift();
              proxy.postMessage( 'key=' + key + '&url=' + url );
              proxies.push( proxy );
            }
          }
        }
        head.appendChild( iframe );
    } );

  </script>

  <!-- Bootstrap:Dependency Manager & Loader -->
  <script src="/scripts/libraries/li.js" type="text/javascript" charset="utf-8"></script>

  <!-- Bootstrap:UI -->
  <script src="/scripts/libraries/jquery-1.7.js" type="text/javascript" charset="utf-8"></script>
  <script src="/scripts/libraries/athena-0.0.1.js" type="text/javascript" charset="utf-8"></script>

</head>

<h1>Facets</h1>

<body data-athena="Abstract" data-athena-config="{
    ui:Abstract: {
      subscribe: 'button'
    }
  }">
  
  <div id="main">
    
    <div id="sidebar">
      <div id="facet1" class="facet loader" data-athena="ShowMore" data-athena-config="{
        ui:ShowMore: {
          show: 6,
          nodes: 'li'
        }
      }">
        <ul data-athena="List.Checkbox ui:Loader" data-athena-config="{
          'List.Checkbox': {
            action: 'facetChanged',
            notify: '.loader'
          },
          'Loader': {
            source: 'http://...'
          }
        }">
          <li class="selected">
            <input id="Y-CC-fps" type="checkbox" checked="true" value="Y" name="CC">
            <label title="All Companies" for="Y-CC-fps">All Companies</label>
          </li>
          <li id="fpsval-CC-1288">
            <input type="checkbox" value="1288" name="facet_CC" id="1288-CC-fps">
            <label title="Yahoo!" class=" " for="1288-CC-fps">
              Yahoo! <span class="count">(4022)</span>
            </label>
          </li>
          <li id="fpsval-CC-1337">
            <input type="checkbox" value="1337" name="facet_CC" id="1337-CC-fps">
            <label title="LinkedIn" class=" " for="1337-CC-fps">
              LinkedIn <span class="count">(1973)</span>
            </label>
          </li>
          <li id="fpsval-CC-1441">
            <input type="checkbox" value="1441" name="facet_CC" id="1441-CC-fps">
            <label title="Google" class=" " for="1441-CC-fps">
              Google <span class="count">(1727)</span>
            </label>
          </li>
        </ul>
        <button class="show-more">Show more...</button>
        <div data-athena="Typeahead" data-athena-config="{
          'Typeahead': {
            url: 'http://...'
            out: 'handleTypeAhead'
          }
        }">
          <input data-athena="GhostLabel" data-athena-config="{}" type="text" name="CC" class="type-ahead exclude hint yui-ac-input" id="CC-type-ahead" autocomplete="off">        
        </div>
      </div>
      <div id="facet2" class="facet loader" data-athena="ShowMore" data-athena-config="{
        ui:ShowMore: {
          show: 6,
          nodes: 'li'
        }
      }">
        <ul data-athena="List.Checkbox ui:Loader" data-athena-config="{
          ui:List.Checkbox: {
            action: 'facetChanged',
            notify: '.loader'
          },
          'Loader': {
            source: 'http://...'
          }
        }">
          <li class="selected">
            <input id="Y-CC-fps" type="checkbox" checked="true" value="Y" name="CC">
            <label title="All Companies" for="Y-CC-fps">All Companies</label>
          </li>
          <li id="fpsval-CC-1288">
            <input type="checkbox" value="1288" name="facet_CC" id="1288-CC-fps">
            <label title="Yahoo!" class=" " for="1288-CC-fps">
              Yahoo! <span class="count">(4022)</span>
            </label>
          </li>
          <li id="fpsval-CC-1337">
            <input type="checkbox" value="1337" name="facet_CC" id="1337-CC-fps">
            <label title="LinkedIn" class=" " for="1337-CC-fps">
              LinkedIn <span class="count">(1973)</span>
            </label>
          </li>
          <li id="fpsval-CC-1441">
            <input type="checkbox" value="1441" name="facet_CC" id="1441-CC-fps">
            <label title="Google" class=" " for="1441-CC-fps">
              Google <span class="count">(1727)</span>
            </label>
          </li>
        </ul>
        <button class="show-more">Show more...</button>        
      </div>
      <div id="facet3" class="facet loader" data-athena="ShowMore" data-athena-config="{
        ui:ShowMore: {
          show: 6,
          nodes: 'li'
        }
      }">
        <ul data-athena="List.Checkbox ui:Loader" data-athena-config="{
          ui:List.Checkbox: {
            action: 'facetChanged',
            notify: '.loader'
          },
          'Loader': {
            source: 'http://...'
          }
        }">
          <li class="selected">
            <input id="Y-CC-fps" type="checkbox" checked="true" value="Y" name="CC">
            <label title="All Companies" for="Y-CC-fps">All Companies</label>
          </li>
          <li id="fpsval-CC-1288">
            <input type="checkbox" value="1288" name="facet_CC" id="1288-CC-fps">
            <label title="Yahoo!" class=" " for="1288-CC-fps">
              Yahoo! <span class="count">(4022)</span>
            </label>
          </li>
          <li id="fpsval-CC-1337">
            <input type="checkbox" value="1337" name="facet_CC" id="1337-CC-fps">
            <label title="LinkedIn" class=" " for="1337-CC-fps">
              LinkedIn <span class="count">(1973)</span>
            </label>
          </li>
          <li id="fpsval-CC-1441">
            <input type="checkbox" value="1441" name="facet_CC" id="1441-CC-fps">
            <label title="Google" class=" " for="1441-CC-fps">
              Google <span class="count">(1727)</span>
            </label>
          </li>
        </ul>
        <button class="show-more">Show more...</button>        
      </div>
    </div>
    <div id="pivot-bar" class="loader" data-athena="List ui:Loader" data-athena-config="{'List':{
      action: 'pivotChanged',
      notify: '.facet'    
    },'Loader':{
      source: 'http://...'
    }}">
      <ul class="query-params-list">
        <li class="pivot-bar-item" data-li-pivot-facet-id="N" data-li-pivot-facet-value="F" id="pb-F-N">
          1st Connections <a class="remove-pivot remove-pivot-facet" href="#" data-athena="Button" 
          data-athena-config="{
            'Button': {              
              action: 'remove',
              notify: '.facets'
            }
          }">remove</a>
        </li>
        <li class="pivot-bar-item" data-li-pivot-facet-id="N" data-li-pivot-facet-value="S" id="pb-S-N">
          2nd Connections <a class="remove-pivot remove-pivot-facet" href="#" data-athena="Button" 
          data-athena-config="{
            'Button': {              
              action: 'remove',
              notify: '.facets'
            }
          }">remove</a>
        </li>
        <li class="pivot-bar-item" data-li-pivot-facet-id="N" data-li-pivot-facet-value="A" id="pb-A-N">
          Group Members <a class="remove-pivot remove-pivot-facet" href="#" data-athena="Button" 
          data-athena-config="{
            'Button': {              
              action: 'remove',
              notify: '.facets'              
            }
          }">remove</a>
        </li>
      </ul>
    </div>
    <div id="results-ajax" class="loader" data-athena="List ui:Loader" data-athena-config="{'List':{},'Loader':{
      source: 'http://...'
    }}"></div>
  
  </div>


  
  <script type="text/javascript" charset="utf-8">

    $( function() {
/*
      $( '#pause_button' ).on( 'pause:before', function() {
        console.info(  'before, pause' );
      } );

      $( '#container' ).on( 'pause', function() {
        console.info( 'bubbled, pause' );
      } );

      $( '#pause_button' ).on( 'pause', function() {
        console.info( 'pause' );
      } );

      $( '#pause_button' ).on( 'pause:after', function() {
        console.info( 'after, pause' );
      } );

      $( '#play_button' ).on( 'play:before', function() {
        console.info( 'before, play' );
      } );

      $( '#container' ).on( 'play', function() {
        console.info( 'bubbled, play' );
      } );

      $( '#play_button' ).on( 'play', function() {
        console.info( 'play' );
      } );

      $( '#play_button' ).on( 'play:after', function() {
        console.info( 'after, play' );
      } );
*/
      $( '#container' ).act();
    } );
    
  </script>

</body>

</html>



addFacet
removeFacet
updateContent